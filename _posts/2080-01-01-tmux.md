---
layout: post
title: Tmux
cover: none.png
date:   2080-01-01 12:00:00
categories: posts
---

tmux
---

`tmux` is a "terminal multiplexer".  It will organize and logically connect your various open terminals.  If you leave your computer or server on (even if you're logged out), it has the added benefit of retaining all your terminals.  Most of this chapter will be devoted to the logical organizational of terminals (called 'panes' in `tmux`).

```bash
> tmux
> tmux attach
```

### Getting It

I recommend installing `tmux` using your Linux distribution's package manager.  If you're on Windows, you might try [Cygwin](https://www.cygwin.com), but a [virtual machine](https://www.virtualbox.org) of [ubuntu](http://www.ubuntu.com) is probably better.  For Mac users, you can try using [`brew`](http://www.brew.sh).  Personally, I use [Arch](https://archlinux.org).

There are [tons][1] of [`tmux`][2] [tutorials][3] out [there][4] better than what I would hack together.  Skim through several and work through one until you feel comfortable opening and moving between windows and panes.

As you're getting comfortable, feel free to steal my [`.tmux.conf`](http://www.github.com/dvbuntu/.files/blob/master/.tmux.conf).  I think it's a little easier to move around with `vim`-style movement letters.

### Organizing

We're going to use `tmux` to logically connect things, like a set of terminals for a data analysis project, so that they are visually (and opertaionally) tied together.  The easiest thing to do for small and medium projects is to put all your terminals into a single `tmux` window.  The simplest projects with just a notes or code file and an [`ipython`]({{ site.baseurl }}/{% post_url 2090-01-01-ipython %}) might look something like below:

![Simple tmux layout]({{ site.baseurl }}/images/tmux_simple.png)

As you need more terminals, it's easy to split them into an existing project window.  I typically like to have four panes for data analysis.  Keeping them all on one visual screen, it's very easy for me to navigate from one pane to another.  The context switching cost is minimal, and I always know that the relevant terminals are on this screen rather than buried among countless windows.

![Project tmux layout]({{ site.baseurl }}/images/tmux_project.png)

For more complex projects, you may need multiple windows and more organization.  Thankfully you can name windows and sessions to keep things sane.  If you find yourself always opening the same kind of project setup that's modestly complex, you might take a look at [`tmuxinator`](http://www.github.com/tmuxinator/tmuxinator).  It allows you to easily specify and load common configurations of panes.  

### Final Notes

You can use the mouse to highlight, copy, and paste within `tmux` terminals as you would normally in Linux.  The catch I've found is that you must use `shift` + highlight (or copy/paste).  This is fine until you have something spanning multiple lines; the `shift` + highlight ignores the pane boundaries (it just copies the top level terminal that is running the `tmux` sesssion).  To get around this, use `prefix` + `C-z` to 'zoom' the relevant pane, then copy it.  The same macro will unzoom as well.

Once your session is setup and you feel comfortable with `tmux`, try a simple REPL.  Write some code (hopefully in your text editor where it's easy), paste over to the shell or whatever.  Notice how using the mouse to highlight is useful, but to copy over every line of code gets tedious, even if you could just highlight multiple lines at once, you're using human analog input to grab an integer number of characters or lines.  It's error-prone, it's slow, and it's ineffective.  Enter [`slimux`]({{ site.baseurl }}/{% post_url 2069-01-01-slimux %}).

[1]: https://danielmiessler.com/study/tmux/
[2]: http://tmux.sourceforge.net
[3]: https://wiki.archlinux.org/index.php/Tmux
[4]: https://youtube.com/watch?v=BHhA_ZKjyxo
